### 5.1 为什么选择Spring Session & WebSockets？ {#websocket-why}

那么为什么在使用WebSockets时需要Spring Session呢？

考虑一个通过HTTP请求完成大部分工作的电子邮件应用程序。以及通过WebSocket API实现的聊天应用程序。 如果一个用户正在和某人进行积极的聊天，那么我们不应该让HttpSession超时，因为这样会导致很差的用户体验。 因此，这正是JSR-356解决的问题。

另一个问题是，根据JSR-356，如果HttpSession超时，则使用该HttpSession创建的任何WebSocket以及登陆认证的用户都应被强制关闭。 这意味着如果我们正在应用程序中聊天，如果没有操作HttpSession，那么我们也将被断开聊天对话！

## 5.2 WebSocket中应用Spring Session

[WebSocket Sample](https://docs.spring.io/spring-session/docs/1.3.1.RELEASE/reference/html5/#samples)提供了有关如何将Spring Session与WebSockets集成的示例。 您可以按照以下基本步骤进行集成，但是当与您自己的应用程序集成时，建议您遵循详细的“WebSocket指南”：

### 5.2.1 HttpSession集成

在使用WebSocket集成之前，您应该确保HttpSession正常工作。





